{"working":false,"featured":false,"private":false,"stars":["63bdfee1d12ead001afe71e4"],"images":[],"categories":["5e7a80de7c113618206df1b4","5e7a80dd7c113618206df0a6","5e7a80de7c113618206df170"],"publicCategories":["Generator"],"privateCategories":["Mobius","spiral"],"_id":"5e7a7fbb7c113618206de37b","title":"MobiusSpiral1","rawFragmentSource":"/*{\n\t\"CREDIT\": \"by mojovideotech\",\n\t\"DESCRIPTION\": \"\",\n\t\"CATEGORIES\": [\n\t\t\"generator\",\n\t\t\"Mobius\",\n\t\t\"Spiral\"\n\t],\n\t\"INPUTS\": [\n\t{\n\t\t\"NAME\" : \t\t\"rate\",\n\t\t\"TYPE\" : \t\t\"float\",\n\t\t\"DEFAULT\" : \t1.0,\n\t\t\"MIN\" : \t\t-3.0,\n\t\t\"MAX\" : \t\t3.0\n\t},\n\t{\n\t\t\"NAME\" : \t\t\"mx\",\n\t\t\"TYPE\" : \t\t\"float\",\n\t\t\"DEFAULT\" : \t0.75,\n\t\t\"MIN\" : \t\t0.0,\n\t\t\"MAX\" : \t\t1.0\n\t}\n      ]\n}*/\n\n\n\n////////////////////////////////////////////////////////////\n// MobiusSpiral1  by mojovideotech\n//\n// based on :\n// shadertoy.com/\\XsGXDV\n//\n// License: \n// Creative Commons Attribution-NonCommercial-ShareAlike 3.0\n////////////////////////////////////////////////////////////\n\n#define \ttwpi  \t6.283185307179586  \t// two pi, 2*pi\n#define \tpi   \t3.141592653589793 \t// pi\n#define \tsxpi\t18.84955592153876\t// six pi, 6*pi\n\nfloat T = TIME*rate;\n\n\nvec2 hash22(vec2 p) { \n    float n = sin(dot(p, vec2(41, 289))); \n    return fract(vec2(8, 1)*262144.*n);\n}\n\nfloat trace( in vec3 ro, in vec3 rd ){\n\tfloat b = dot(ro, rd);\n\tfloat h = b*b - dot(ro, ro) + 1.;\n\tif (h<0.) return -1.;\n\treturn -b - sqrt(h);\n}\n\nvec3 scene(vec2 uv){\n    vec2 id = mod(floor(uv), 5./2.);\n    uv = fract(uv) - .5;\n\tvec3 ro = vec3(0, 0, -2.4);\n\tvec3 rd = normalize( vec3(uv, 1.));\n    vec3 lp = ro + vec3(cos(T), sin(T), 0)*2.;\n\tfloat t = trace( ro, rd );\n\tvec3 col = vec3(1, .04, .1)*0.003 + length(hash22(uv + 7.31))*.005;\n\tif (t>0.){\n    \tvec3 p = ro + rd*t;\n    \tvec3 n = normalize(p);\n        vec3 ld = lp - p;\n        float lDist = max(length(ld), 0.001);\n        ld /= lDist;\n        float diff = max(dot(ld, n), 0.); \n        float spec = pow(max(dot(reflect(-ld, n), -rd), 0.), 32.); \n        float c = dot(sin(p*8. - cos(p.zxy*8. + pi + T)), vec3(.166)) + .5;\n        float f = c*6.;\n        c = clamp(sin(c*sxpi)*2., 0., 1.);\n        c = sqrt(c*.75+.25);\n        vec3 oCol = vec3(c); \n        if(id.x>1.25) oCol *= vec3(1, .04, .1);\n        p = reflect(rd, n)*.35;\n        c = dot(sin(p*8. - cos(p.zxy*8. + pi)), vec3(.166)) + .5;\n        f = c*6.;\n        c = clamp(sin(c*sxpi)*2., 0., 1.);\n        c = sqrt(c*.75+.25);\n        vec3 rCol = vec3(min(c*1.5, 1.), pow(c, 3.), pow(c, 16.)); // Reflective color.\n        vec3 sCol = oCol*(diff*diff + .5) + vec3(.1, .8, 9)*spec*2. + rCol*.05;\n        sCol *= 1.5/(1. + lDist*.25 + lDist*lDist*.05);\n        float edge = max(dot(-rd, n), 0.);\n    \tedge = smoothstep(0., .35, edge);\n        col = mix(col, min(sCol, 1.), edge); \n\t}\n    \n\treturn sqrt(clamp(col, 0., 1.));\n}\n\n\n// Standard Mobius transform: f(z) = (az + b)/(cz + d). Slightly obfuscated.\nvec2 Mobius(vec2 p, vec2 z1, vec2 z2) {\n\tz1 = p - z1; p -= z2;\n\treturn vec2(dot(z1, p), z1.y*p.x - z1.x*p.y)/dot(p, p);\n}\n\nvec2 spiralZoom(vec2 p, vec2 offs, float n, float spiral, float zoom, vec2 phase){\n\tp -= offs;\n\tfloat a = atan(p.y, p.x)/twpi + T*.125*.25;\n\tfloat d = length(p);\n\treturn vec2(a*n + log(d)*spiral, -log(d)*zoom + a) + phase;\n}\n\nfloat circle(vec2 p) {\n    p = fract(p) - .5;\n    float d = length( p ); \n    return smoothstep(0.2, 0.5, 0.5-d);\n}\n\n\nvoid main()\n{\n\tvec2 uv = (2.0*gl_FragCoord.xy - RENDERSIZE.xy) / RENDERSIZE.y;\n    uv = Mobius(uv, vec2(-.75, 0), vec2(.5, 0));\n    uv = spiralZoom(uv, vec2(-.5), 5., pi*.2, .5, vec2(-1, 1)*T*.125);\n    vec3 col = vec3(scene(uv*6.)*0.5);\n    col *= vec3(scene(uv*6.));\n    col += mix(vec3(circle(uv*6.),0.0,scene(uv*6.)),vec3(scene(uv*6.)),1.0-mx);\n   gl_FragColor = vec4(min(col, 1.), 1);\n    \n}\n","rawVertexSource":"void main() {\n\tisf_vertShaderInit();\n}","thumbnailCloudinaryId":"jqnrcxrmwq1lxpp1all3","description":"","shaderType":"generator","oldId":"1858","createdAt":"2017-06-17T21:50:33.583Z","user":{"_id":"5e7a7f587c113618206dda0d","username":"mojovideotech","name":"Mojo Video Tech","id":"5e7a7f587c113618206dda0d"},"username":"mojovideotech","updatedAt":"2023-01-23T23:29:43.843Z","__v":0,"id":"5e7a7fbb7c113618206de37b"}